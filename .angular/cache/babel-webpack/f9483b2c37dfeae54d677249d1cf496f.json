{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { IonDatetime } from '@ionic/angular';\nimport { format, parseISO } from 'date-fns'; //map\n\nimport 'ol/ol.css';\nimport Map from 'ol/Map';\nimport View from 'ol/View';\nimport Style from 'ol/style/Style';\nimport Icon from 'ol/style/Icon';\nimport OSM from 'ol/source/OSM';\nimport TileLayer from 'ol/layer/Tile';\nimport { useGeographic } from 'ol/proj';\nimport Overlay from 'ol/Overlay';\nimport Feature from 'ol/Feature';\nimport Point from 'ol/geom/Point';\nimport VectorSource from 'ol/source/Vector';\nimport VectorLayer from 'ol/layer/Vector';\nimport TileWMS from 'ol/source/TileWMS';\nimport Geocoder from 'ol-geocoder';\nimport { HttpHeaders } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"src/app/services/api.service\";\nimport * as i3 from \"src/app/services/common.service\";\nimport * as i4 from \"@awesome-cordova-plugins/geolocation/ngx\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@ionic/angular\";\nimport * as i7 from \"@awesome-cordova-plugins/diagnostic/ngx\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"@angular/forms\";\nimport * as i10 from \"ionic-selectable\";\nconst _c0 = [\"mapElementRef\"];\n\nfunction TambahPengajianPage_ion_buttons_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-buttons\", 20);\n    i0.ɵɵelementStart(1, \"ion-button\", 32);\n    i0.ɵɵlistener(\"click\", function TambahPengajianPage_ion_buttons_5_Template_ion_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.delete();\n    });\n    i0.ɵɵelement(2, \"ion-icon\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TambahPengajianPage_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34);\n    i0.ɵɵelementStart(1, \"ion-chip\", 35);\n    i0.ɵɵelement(2, \"ion-icon\", 36);\n    i0.ɵɵelementStart(3, \"ion-label\");\n    i0.ɵɵtext(4, \"Data Belum di Verifikasi\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TambahPengajianPage_ion_select_option_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 37);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const n_r13 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", n_r13);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(n_r13);\n  }\n}\n\nfunction TambahPengajianPage_div_32_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 40);\n  }\n}\n\nfunction TambahPengajianPage_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"ion-text\", 8);\n    i0.ɵɵtext(2, \"Nama Cabang Penyelenggara\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-item\", 9);\n    i0.ɵɵelementStart(4, \"ionic-selectable\", 38);\n    i0.ɵɵlistener(\"ngModelChange\", function TambahPengajianPage_div_32_Template_ionic_selectable_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.branchSelected = $event;\n    })(\"onChange\", function TambahPengajianPage_div_32_Template_ionic_selectable_onChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.pilihCabang($event);\n    });\n    i0.ɵɵtemplate(5, TambahPengajianPage_div_32_ng_template_5_Template, 1, 0, \"ng-template\", 39);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.branchSelected)(\"items\", ctx_r5.listCabang)(\"canSearch\", true);\n  }\n}\n\nfunction TambahPengajianPage_div_33_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 40);\n  }\n}\n\nfunction TambahPengajianPage_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"ion-text\", 8);\n    i0.ɵɵtext(2, \"Nama Ranting Penyelenggara\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-item\", 9);\n    i0.ɵɵelementStart(4, \"ionic-selectable\", 38);\n    i0.ɵɵlistener(\"ngModelChange\", function TambahPengajianPage_div_33_Template_ionic_selectable_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return ctx_r19.twigSelected = $event;\n    })(\"onChange\", function TambahPengajianPage_div_33_Template_ionic_selectable_onChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return ctx_r21.pilihRanting($event);\n    });\n    i0.ɵɵtemplate(5, TambahPengajianPage_div_33_ng_template_5_Template, 1, 0, \"ng-template\", 39);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r6.twigSelected)(\"items\", ctx_r6.listRanting)(\"canSearch\", true);\n  }\n}\n\nfunction TambahPengajianPage_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"ion-text\", 8);\n    i0.ɵɵtext(2, \"Nama Penyelenggara\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-item\", 9);\n    i0.ɵɵelementStart(4, \"ion-input\", 41);\n    i0.ɵɵlistener(\"ngModelChange\", function TambahPengajianPage_div_34_Template_ion_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return ctx_r22.pengajianData.organizer_name = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.pengajianData.organizer_name);\n  }\n}\n\nfunction TambahPengajianPage_ng_template_43_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-datetime\", 42, 43);\n    i0.ɵɵlistener(\"ionChange\", function TambahPengajianPage_ng_template_43_Template_ion_datetime_ionChange_0_listener() {\n      i0.ɵɵrestoreView(_r26);\n\n      const _r24 = i0.ɵɵreference(1);\n\n      const ctx_r25 = i0.ɵɵnextContext();\n      return ctx_r25.dateValue = ctx_r25.formatDate(_r24.value);\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TambahPengajianPage_ion_col_71_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-col\");\n    i0.ɵɵelementStart(1, \"ion-button\", 44);\n    i0.ɵɵlistener(\"click\", function TambahPengajianPage_ion_col_71_Template_ion_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return ctx_r27.verifikasi();\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r10.loading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r10.loading ? \"Mohon tunggu...\" : \"Verifikasi\", \" \");\n  }\n}\n\nconst _c1 = function () {\n  return {\n    \"cssClass\": \"mycomponent-wider-popover\"\n  };\n};\n\nconst _c2 = function () {\n  return [\"cabang\", \"ranting\", \"lainnya\"];\n};\n\nuseGeographic();\nexport let TambahPengajianPage = /*#__PURE__*/(() => {\n  class TambahPengajianPage {\n    constructor(http, api, common, geolocation, router, routes, modalController, diagnostic, platform, loadingController, alertController, toastController, datePipe) {\n      this.http = http;\n      this.api = api;\n      this.common = common;\n      this.geolocation = geolocation;\n      this.router = router;\n      this.routes = routes;\n      this.modalController = modalController;\n      this.diagnostic = diagnostic;\n      this.platform = platform;\n      this.loadingController = loadingController;\n      this.alertController = alertController;\n      this.toastController = toastController;\n      this.datePipe = datePipe;\n      this.dateValue = '';\n      this.pengajianData = {};\n      this.isCreated = true;\n      this.listCabang = [];\n      this.listRanting = [];\n      this.height = '300px';\n      this.showToolbar = false;\n      this.title = 'SalamMU';\n      this.center = [110.3647, -7.8014];\n    }\n\n    pilihCabang(event) {\n      this.branchSelected = event.value;\n    }\n\n    pilihRanting(event) {\n      this.twigSelected = event.value;\n    }\n\n    ngOnInit() {\n      this.cekLogin();\n      this.getAllCr();\n      this.today = new Date();\n      this.id = this.routes.snapshot.paramMap.get('id');\n\n      if (this.id != 0) {\n        this.isCreated = false;\n        this.getDetailPengajian();\n      } else {\n        this.generateMap(undefined);\n      }\n    }\n\n    cekLogin() {\n      this.api.me().then(res => __awaiter(this, void 0, void 0, function* () {\n        this.userData = res;\n        yield this.loadingController.dismiss();\n      }), error => __awaiter(this, void 0, void 0, function* () {\n        this.loading = false;\n        localStorage.removeItem('userSalammu');\n        localStorage.removeItem('salammuToken');\n        this.userData = undefined;\n        yield this.loadingController.dismiss();\n      }));\n    }\n\n    getAllCr() {\n      this.api.get('cr').then(res => {\n        this.parseData(res);\n      }, error => {\n        this.loading = false;\n      });\n    }\n\n    parseData(res) {\n      for (var i = 0; i < res.length; i++) {\n        if (res[i].category == 'cabang') {\n          let idx = this.listCabang.indexOf(res[i]);\n\n          if (idx == -1) {\n            this.listCabang.push(res[i]);\n          }\n        } else if (res[i].category == 'ranting') {\n          let idx = this.listRanting.indexOf(res[i]);\n\n          if (idx == -1) {\n            this.listRanting.push(res[i]);\n          }\n        }\n      }\n\n      this.loading = false;\n    }\n\n    getDetailPengajian() {\n      return __awaiter(this, void 0, void 0, function* () {\n        yield this.api.get('pengajian/find/' + this.id).then(res => {\n          this.pengajianData = res;\n\n          if (this.pengajianData.pin != null) {\n            var dt = JSON.parse(this.pengajianData.pin);\n            this.generateMap(dt);\n            this.getDetailLocation(dt);\n          } else {\n            this.generateMap(undefined);\n          }\n\n          if (this.pengajianData.branch != null) {\n            this.branchSelected = this.listCabang.find(x => x.id === this.pengajianData.branch);\n          }\n\n          if (this.pengajianData.twig != null) {\n            this.twigSelected = this.listRanting.find(x => x.id === this.pengajianData.twig);\n          }\n\n          this.dateValue = this.datePipe.transform(new Date(this.pengajianData.datetime), 'MMM dd yyyy HH:mm');\n        });\n      });\n    }\n\n    formatDate(value) {\n      return format(parseISO(value), 'MMM dd yyyy HH:mm');\n    }\n\n    save() {\n      if (this.branchSelected != undefined) this.pengajianData.branch = this.branchSelected.id;\n      if (this.twigSelected != undefined) this.pengajianData.twig = this.twigSelected.id;\n\n      if (new Date(this.dateValue) > this.today) {\n        this.pengajianData.status = 'soon';\n      } else {\n        this.pengajianData.status = 'done';\n      }\n\n      this.pengajianData.datetime = new Date(this.dateValue);\n\n      if (this.isCreated == true) {\n        this.pengajianData.verified = false;\n        this.api.post('pengajian', this.pengajianData).then(res => {\n          if (res) {\n            this.toastController.create({\n              message: 'Berhasil menambahkan data.',\n              duration: 2000,\n              color: \"primary\"\n            }).then(toastEl => {\n              toastEl.present();\n            });\n            this.loading = false;\n            this.router.navigate(['/my-pengajian']);\n          }\n        });\n      } else {\n        this.api.put('pengajian/' + this.id, this.pengajianData).then(res => {\n          if (res) {\n            this.toastController.create({\n              message: 'Berhasil memperbarui data.',\n              duration: 2000,\n              color: \"primary\"\n            }).then(toastEl => {\n              toastEl.present();\n            });\n            this.loading = false;\n            this.router.navigate(['/my-pengajian']);\n          }\n        });\n      }\n    }\n\n    done() {\n      var conf = confirm('Jadwal pengajian sudah selesai?');\n\n      if (conf) {\n        this.pengajianData.status = 'done';\n        this.api.put('pengajian/' + this.id, this.pengajianData).then(res => {\n          if (res) {\n            this.toastController.create({\n              message: 'Berhasil memperbarui data.',\n              duration: 2000,\n              color: \"primary\"\n            }).then(toastEl => {\n              toastEl.present();\n            });\n            this.loading = false;\n            this.router.navigate(['/my-pengajian']);\n          }\n        });\n      }\n    }\n\n    delete() {\n      var conf = confirm('Anda yakin ingin menghapus data?');\n\n      if (conf) {\n        this.api.delete('pengajian/' + this.id).then(res => {\n          if (res) {\n            this.toastController.create({\n              message: 'Berhasil menghapus data.',\n              duration: 2000,\n              color: \"primary\"\n            }).then(toastEl => {\n              toastEl.present();\n            });\n            this.loading = false;\n            this.router.navigate(['/my-pengajian']);\n          }\n        });\n      }\n    }\n\n    verifikasi() {\n      this.loading = true;\n      var conf = confirm('Anda yakin ingin melanjutkan verifikasi data pengajian?');\n\n      if (conf) {\n        this.pengajianData.verified = true;\n        this.api.put('pengajian/' + this.id, this.pengajianData).then(res => {\n          if (res) {\n            this.loading = false;\n            this.toastController.create({\n              message: 'Berhasil memverifikasi data pengajian.',\n              duration: 2000,\n              color: \"primary\"\n            }).then(toastEl => {\n              toastEl.present();\n            });\n            this.loading = false;\n            this.router.navigate(['/my-pengajian']);\n          }\n        }).catch(error => {\n          this.loading = false;\n        });\n      } else {\n        this.loading = false;\n      }\n    }\n\n    generateMap(data) {\n      if (this.pengajianData.pin != null) {\n        data = JSON.parse(this.pengajianData.pin);\n      }\n\n      var features = [];\n\n      if (data == undefined) {\n        this.longitude = 110.3647;\n        this.latitude = -7.8014;\n        this.locationNow = {};\n        this.locationNow.lat = this.latitude;\n        this.locationNow.long = this.longitude;\n        features.push(coloredSvgMarker([0, 0], \"SalamMU\", \"red\"));\n      } else {\n        this.latitude = data.lat;\n        this.longitude = data.long;\n        features.push(coloredSvgMarker([this.longitude, this.latitude], \"SalamMU\", \"red\"));\n      }\n\n      this.vectorSource = new VectorSource({\n        features: features\n      });\n      this.vectorLayer = new VectorLayer({\n        source: this.vectorSource\n      });\n      var container = document.getElementById('popup');\n      var content = document.getElementById('popup-content');\n      var closer = document.getElementById('popup-closer');\n      var overlay = new Overlay({\n        element: container,\n        autoPan: true,\n        autoPanAnimation: {\n          duration: 250\n        }\n      }); //get element ud\n\n      var mapContainer = document.getElementsByClassName('ol-viewport');\n      if (mapContainer != undefined && mapContainer[0] != undefined) mapContainer[0].remove();\n      this.map = new Map({\n        target: 'map',\n        layers: [new TileLayer({\n          source: new OSM()\n        }), this.vectorLayer],\n        view: new View({\n          center: [this.longitude, this.latitude],\n          zoom: 14\n        }),\n        style: new Style({\n          image: new Icon(\n          /** @type {module:ol/style/Icon~Options} */\n          {\n            anchor: [0.5, 46],\n            anchorXUnits: 'fraction',\n            anchorYUnits: 'pixels',\n            src: 'https://openlayers.org/en/v5.3.0/examples/data/icon.png',\n            scale: 0.5\n          })\n        })\n      });\n      this.map.on('moveend', () => {\n        var center = this.map.getView().getCenter();\n        this.longitude = center[0];\n        this.latitude = center[1];\n      });\n      var view = new View({\n        center: [0, 0],\n        zoom: 1\n      });\n      var wmsSource = new TileWMS({\n        url: 'https://ahocevar.com/geoserver/wms',\n        params: {\n          'LAYERS': 'ne:ne',\n          'TILED': true\n        },\n        serverType: 'geoserver',\n        crossOrigin: 'anonymous'\n      });\n      this.map.on('singleclick', evt => {\n        this.longitude = evt.coordinate[0];\n        this.latitude = evt.coordinate[1];\n\n        if (this.locationNow == undefined) {\n          this.locationNow = {};\n        }\n\n        this.locationNow.lat = this.latitude;\n        this.locationNow.long = this.longitude;\n        var dt = {\n          lat: this.locationNow.lat,\n          long: this.locationNow.long\n        };\n        this.getDetailLocation(dt);\n        this.pengajianData.pin = JSON.stringify(dt);\n        this.map.removeLayer(this.vectorLayer);\n        document.getElementById('info').innerHTML = '';\n        var viewResolution =\n        /** @type {number} */\n        view.getResolution();\n        var url = wmsSource.getFeatureInfoUrl(evt.coordinate, viewResolution, 'EPSG:3857', {\n          'INFO_FORMAT': 'text/html'\n        });\n\n        if (url) {\n          fetch(url).then(function (response) {\n            return response.text();\n          }).then(function (html) {\n            document.getElementById('info').innerHTML = html;\n          });\n        }\n\n        features = [];\n        features.push(coloredSvgMarker([this.locationNow.long, this.locationNow.lat], \"Lokasi Anda\", \"red\"));\n        this.vectorSource = new VectorSource({\n          features: features\n        });\n        this.vectorLayer = new VectorLayer({\n          source: this.vectorSource\n        });\n        this.map.addLayer(this.vectorLayer);\n      });\n      var that = this; //Instantiate with some options and add the Control\n\n      var geocoder = new Geocoder('nominatim', {\n        provider: 'osm',\n        lang: 'id',\n        placeholder: 'Cari Lokasi ...',\n        limit: 5,\n        debug: false,\n        autoComplete: true,\n        keepOpen: true\n      });\n      this.map.addControl(geocoder); //Listen when an address is chosen\n\n      geocoder.on('addresschosen', function (evt) {\n        that.map.getView().setCenter([evt.place.lon, evt.place.lat]);\n        that.map.getView().setZoom(11);\n      });\n\n      function coloredSvgMarker(lonLat, name, color) {\n        if (!color) color = 'red';\n        var feature = new Feature({\n          geometry: new Point(lonLat),\n          name: name\n        });\n        feature.setStyle(new Style({\n          image: new Icon({\n            anchor: [0.5, 1.0],\n            anchorXUnits: 'fraction',\n            anchorYUnits: 'fraction',\n            src: './assets/icon/marker.svg',\n            scale: 2,\n            imgSize: [30, 30]\n          })\n        }));\n        return feature;\n      }\n\n      setTimeout(() => {\n        this.map.setTarget(document.getElementById('map'));\n      }, 1000);\n    }\n\n    getDetailLocation(dt) {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.httpOption = {\n          headers: new HttpHeaders({\n            'Content-Type': 'application/json'\n          })\n        };\n        yield this.http.get('http://open.mapquestapi.com/nominatim/v1/reverse.php?key=10o857kA0hJBvz8kNChk495IHwfEwg1G&format=json&lat=' + dt.lat + '&lon=' + dt.long, this.httpOption).subscribe(res => __awaiter(this, void 0, void 0, function* () {\n          this.detailLocSelected = res;\n\n          if (this.detailLocSelected == undefined || this.detailLocSelected.address.state_district == undefined) {\n            yield this.http.get('https://nominatim.openstreetmap.org/reverse?format=geojson&lat=' + dt.lat + '&lon=' + dt.long, this.httpOption).subscribe(res => {\n              this.detailLocSelected = res;\n              this.city = this.detailLocSelected.features[0].properties.address.state;\n            });\n          } else {\n            this.city = this.detailLocSelected.address.state_district.replace('Kota ', '');\n          }\n        }), error => __awaiter(this, void 0, void 0, function* () {\n          yield this.http.get('http://open.mapquestapi.com/nominatim/v1/reverse.php?key=10o857kA0hJBvz8kNChk495IHwfEwg1G&format=json&lat=' + dt.lat + '&lon=' + dt.long, this.httpOption).subscribe(res => {\n            this.detailLocSelected = res;\n            this.city = this.detailLocSelected.city.replace('Kota ', '');\n          });\n        }));\n      });\n    }\n\n  }\n\n  TambahPengajianPage.ɵfac = function TambahPengajianPage_Factory(t) {\n    return new (t || TambahPengajianPage)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.ApiService), i0.ɵɵdirectiveInject(i3.CommonService), i0.ɵɵdirectiveInject(i4.Geolocation), i0.ɵɵdirectiveInject(i5.Router), i0.ɵɵdirectiveInject(i5.ActivatedRoute), i0.ɵɵdirectiveInject(i6.ModalController), i0.ɵɵdirectiveInject(i7.Diagnostic), i0.ɵɵdirectiveInject(i6.Platform), i0.ɵɵdirectiveInject(i6.LoadingController), i0.ɵɵdirectiveInject(i6.AlertController), i0.ɵɵdirectiveInject(i6.ToastController), i0.ɵɵdirectiveInject(i8.DatePipe));\n  };\n\n  TambahPengajianPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TambahPengajianPage,\n    selectors: [[\"app-tambah-pengajian\"]],\n    viewQuery: function TambahPengajianPage_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 7);\n        i0.ɵɵviewQuery(IonDatetime, 7);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.mapElementRef = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.datetime = _t.first);\n      }\n    },\n    decls: 72,\n    vars: 21,\n    consts: [[\"color\", \"primary\"], [\"slot\", \"start\"], [\"slot\", \"end\", 4, \"ngIf\"], [1, \"ion-no-padding\"], [1, \"ion-justify-content-center\"], [\"size-md\", \"6\"], [1, \"ion-padding\"], [\"class\", \"item-centered\", 4, \"ngIf\"], [\"color\", \"medium\"], [\"lines\", \"none\", 1, \"input\"], [\"required\", \"\", \"placeholder\", \"Pengajian name\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"ngModel\"], [\"placeholder\", \"Nama Pembicara\", 3, \"ngModel\", \"ngModelChange\"], [\"required\", \"\", \"placeholder\", \"Pengajian descriptions\", \"rows\", \"4\", \"cols\", \"20\", 3, \"ngModel\", \"ngModelChange\"], [\"descriptions\", \"ngModel\"], [\"interface\", \"popover\", \"placeholder\", \"Pilih Penyelenggara\", 3, \"interfaceOptions\", \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"chevron-down-outline\", \"slot\", \"end\"], [4, \"ngIf\"], [\"lines\", \"none\", \"button\", \"true\", \"id\", \"open-date-input\", 1, \"input\"], [\"slot\", \"end\"], [\"trigger\", \"open-date-input\", \"show-backdrop\", \"false\"], [\"placeholder\", \"Input link streaming\", 3, \"ngModel\", \"ngModelChange\"], [\"required\", \"\", \"placeholder\", \"Pengajian location\", \"rows\", \"4\", \"cols\", \"20\", 3, \"ngModel\", \"ngModelChange\"], [\"location\", \"ngModel\"], [1, \"ion-text-wrap\"], [\"id\", \"map\", 2, \"width\", \"auto\", \"height\", \"300px\"], [\"id\", \"info\"], [\"id\", \"geolocation\"], [2, \"margin-top\", \"100px\"], [1, \"footer\"], [\"color\", \"primary\", \"expand\", \"block\", 3, \"disabled\", \"click\"], [\"fill\", \"clear\", 3, \"click\"], [\"slot\", \"icon-only\", \"name\", \"trash-outline\"], [1, \"item-centered\"], [\"color\", \"danger\"], [\"name\", \"alert-circle-outline\", \"color\", \"danger\"], [3, \"value\"], [\"placeholder\", \"Pilih Cabang\", \"itemValueField\", \"id\", \"itemTextField\", \"name\", 3, \"ngModel\", \"items\", \"canSearch\", \"ngModelChange\", \"onChange\"], [\"ionicSelectableCloseButtonTemplate\", \"\"], [\"name\", \"close-circle\", 2, \"font-size\", \"24px\"], [\"placeholder\", \"Nama Penyelenggara\", 3, \"ngModel\", \"ngModelChange\"], [\"presentation\", \"time-date\", 3, \"ionChange\"], [\"popoverDatetime\", \"\"], [\"color\", \"secondary\", \"expand\", \"block\", 3, \"disabled\", \"click\"]],\n    template: function TambahPengajianPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\");\n        i0.ɵɵelementStart(1, \"ion-toolbar\", 0);\n        i0.ɵɵelement(2, \"ion-back-button\", 1);\n        i0.ɵɵelementStart(3, \"ion-title\");\n        i0.ɵɵtext(4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(5, TambahPengajianPage_ion_buttons_5_Template, 3, 0, \"ion-buttons\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"ion-content\");\n        i0.ɵɵelementStart(7, \"ion-grid\", 3);\n        i0.ɵɵelementStart(8, \"ion-row\", 4);\n        i0.ɵɵelementStart(9, \"ion-col\", 5);\n        i0.ɵɵelementStart(10, \"div\", 6);\n        i0.ɵɵtemplate(11, TambahPengajianPage_div_11_Template, 5, 0, \"div\", 7);\n        i0.ɵɵelementStart(12, \"ion-text\", 8);\n        i0.ɵɵtext(13, \"Nama Pengajian\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"ion-item\", 9);\n        i0.ɵɵelementStart(15, \"ion-input\", 10, 11);\n        i0.ɵɵlistener(\"ngModelChange\", function TambahPengajianPage_Template_ion_input_ngModelChange_15_listener($event) {\n          return ctx.pengajianData.name = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"ion-text\", 8);\n        i0.ɵɵtext(18, \"Nama Pembicara\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"ion-item\", 9);\n        i0.ɵɵelementStart(20, \"ion-input\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function TambahPengajianPage_Template_ion_input_ngModelChange_20_listener($event) {\n          return ctx.pengajianData.speaker = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"ion-text\", 8);\n        i0.ɵɵtext(22, \"Deskripsi pengajian\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"ion-item\", 9);\n        i0.ɵɵelementStart(24, \"ion-textarea\", 13, 14);\n        i0.ɵɵlistener(\"ngModelChange\", function TambahPengajianPage_Template_ion_textarea_ngModelChange_24_listener($event) {\n          return ctx.pengajianData.descriptions = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"ion-text\", 8);\n        i0.ɵɵtext(27, \"Penyelenggara\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"ion-item\", 9);\n        i0.ɵɵelementStart(29, \"ion-select\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function TambahPengajianPage_Template_ion_select_ngModelChange_29_listener($event) {\n          return ctx.pengajianData.organizer = $event;\n        });\n        i0.ɵɵtemplate(30, TambahPengajianPage_ion_select_option_30_Template, 2, 2, \"ion-select-option\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(31, \"ion-icon\", 17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(32, TambahPengajianPage_div_32_Template, 6, 3, \"div\", 18);\n        i0.ɵɵtemplate(33, TambahPengajianPage_div_33_Template, 6, 3, \"div\", 18);\n        i0.ɵɵtemplate(34, TambahPengajianPage_div_34_Template, 5, 1, \"div\", 18);\n        i0.ɵɵelementStart(35, \"ion-text\", 8);\n        i0.ɵɵtext(36, \"Tanggal dan Jam Pengajian\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"ion-item\", 19);\n        i0.ɵɵelementStart(38, \"ion-label\");\n        i0.ɵɵtext(39, \"Tanggal:Jam\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"ion-text\", 20);\n        i0.ɵɵtext(41);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"ion-popover\", 21);\n        i0.ɵɵtemplate(43, TambahPengajianPage_ng_template_43_Template, 2, 0, \"ng-template\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"ion-text\", 8);\n        i0.ɵɵtext(45, \"Link Live Streaming\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"ion-item\", 9);\n        i0.ɵɵelementStart(47, \"ion-input\", 22);\n        i0.ɵɵlistener(\"ngModelChange\", function TambahPengajianPage_Template_ion_input_ngModelChange_47_listener($event) {\n          return ctx.pengajianData.url_livestream = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"ion-text\", 8);\n        i0.ɵɵtext(49, \"Lokasi Lengkap\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"ion-item\", 9);\n        i0.ɵɵelementStart(51, \"ion-textarea\", 23, 24);\n        i0.ɵɵlistener(\"ngModelChange\", function TambahPengajianPage_Template_ion_textarea_ngModelChange_51_listener($event) {\n          return ctx.pengajianData.location = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(53, \"ion-text\", 8);\n        i0.ɵɵtext(54, \"Pin Lokasi (Terisi otomatis)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(55, \"ion-item\", 9);\n        i0.ɵɵelementStart(56, \"ion-label\");\n        i0.ɵɵelementStart(57, \"ion-text\", 0);\n        i0.ɵɵelementStart(58, \"p\", 25);\n        i0.ɵɵtext(59);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(60, \"div\", 26);\n        i0.ɵɵelementStart(61, \"div\", 27);\n        i0.ɵɵtext(62, \"\\u00A0\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(63, \"div\", 28);\n        i0.ɵɵelement(64, \"div\", 29);\n        i0.ɵɵelementStart(65, \"div\", 30);\n        i0.ɵɵelementStart(66, \"ion-grid\");\n        i0.ɵɵelementStart(67, \"ion-row\");\n        i0.ɵɵelementStart(68, \"ion-col\");\n        i0.ɵɵelementStart(69, \"ion-button\", 31);\n        i0.ɵɵlistener(\"click\", function TambahPengajianPage_Template_ion_button_click_69_listener() {\n          return ctx.save();\n        });\n        i0.ɵɵtext(70);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(71, TambahPengajianPage_ion_col_71_Template, 3, 2, \"ion-col\", 18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\"\", ctx.isCreated ? \"Tambah\" : \"Perbarui\", \" Pengajian\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isCreated);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.pengajianData.verified == 0);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.pengajianData.name);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.pengajianData.speaker);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.pengajianData.descriptions);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"interfaceOptions\", i0.ɵɵpureFunction0(19, _c1))(\"ngModel\", ctx.pengajianData.organizer);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(20, _c2));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.pengajianData.organizer == \"cabang\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.pengajianData.organizer == \"ranting\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.pengajianData.organizer == \"lainnya\");\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.dateValue);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.pengajianData.url_livestream);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.pengajianData.location);\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate(ctx.detailLocSelected == undefined ? \"\" : ctx.detailLocSelected.display_name);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"disabled\", ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.loading ? \"Mohon tunggu...\" : \"Simpan\", \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.pengajianData.verified == 0 && ctx.userData.role == \"superadmin\");\n      }\n    },\n    directives: [i6.IonHeader, i6.IonToolbar, i6.IonBackButton, i6.IonBackButtonDelegate, i6.IonTitle, i8.NgIf, i6.IonContent, i6.IonGrid, i6.IonRow, i6.IonCol, i6.IonText, i6.IonItem, i6.IonInput, i6.TextValueAccessor, i9.RequiredValidator, i9.NgControlStatus, i9.NgModel, i6.IonTextarea, i6.IonSelect, i6.SelectValueAccessor, i8.NgForOf, i6.IonIcon, i6.IonLabel, i6.IonPopover, i6.IonButton, i6.IonButtons, i6.IonChip, i6.IonSelectOption, i10.IonicSelectableComponent, i10.IonicSelectableCloseButtonTemplateDirective, i6.IonDatetime],\n    styles: [\"\"]\n  });\n  return TambahPengajianPage;\n})();","map":null,"metadata":{},"sourceType":"module"}