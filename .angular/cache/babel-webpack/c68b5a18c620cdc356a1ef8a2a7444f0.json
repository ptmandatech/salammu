{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/api.service\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"../app.component\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/common\";\n\nconst _c0 = function (a1) {\n  return [\"/al-quran/detail-surat\", a1];\n};\n\nfunction AlQuranPage_div_23_ion_item_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 20);\n    i0.ɵɵelementStart(1, \"ion-label\");\n    i0.ɵɵelementStart(2, \"h2\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ion-text\", 21);\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"ion-label\", 22);\n    i0.ɵɵelementStart(8, \"h1\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const n_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(6, _c0, n_r3.nomor));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", n_r3.nomor, \". \", n_r3.nama_latin, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", n_r3.tempat_turun, \" - \", n_r3.jumlah_ayat, \" Ayat \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", n_r3.nama, \" \");\n  }\n}\n\nfunction AlQuranPage_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 15);\n    i0.ɵɵelementStart(2, \"ion-toolbar\", 16);\n    i0.ɵɵelementStart(3, \"ion-searchbar\", 17);\n    i0.ɵɵlistener(\"ngModelChange\", function AlQuranPage_div_23_Template_ion_searchbar_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.searchTerm = $event;\n    })(\"ionChange\", function AlQuranPage_div_23_Template_ion_searchbar_ionChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.searchChanged($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ion-list\", 18);\n    i0.ɵɵtemplate(5, AlQuranPage_div_23_ion_item_5_Template, 10, 8, \"ion-item\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.searchTerm);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.surat);\n  }\n}\n\nfunction AlQuranPage_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\");\n  }\n}\n\nexport let AlQuranPage = /*#__PURE__*/(() => {\n  class AlQuranPage {\n    constructor(api, loadingController, appComponent) {\n      this.api = api;\n      this.loadingController = loadingController;\n      this.appComponent = appComponent;\n      this.defaultSegment = 'surah';\n      this.surat = [];\n      this.suratTemp = [];\n      this.searchTerm = '';\n    }\n\n    ngOnInit() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.loading = true;\n        this.surat = JSON.parse(localStorage.getItem('suratAlQuran'));\n        this.suratTemp = this.surat;\n\n        if (this.surat == null) {\n          this.getSurat();\n        }\n\n        this.cekLogin();\n      });\n    }\n\n    cekLogin() {\n      this.api.me().then(res => __awaiter(this, void 0, void 0, function* () {\n        this.userData = res;\n        yield this.loadingController.dismiss();\n      }), error => __awaiter(this, void 0, void 0, function* () {\n        this.loading = false;\n        localStorage.removeItem('userSalammu');\n        localStorage.removeItem('salammuToken');\n        this.userData = undefined;\n        yield this.loadingController.dismiss();\n      }));\n    }\n\n    doRefresh(event) {\n      return __awaiter(this, void 0, void 0, function* () {\n        if (this.appComponent.networkStatus.connected == true) {\n          this.loading = true;\n          this.getSurat();\n          this.cekLogin();\n          setTimeout(() => {\n            event.target.complete();\n          }, 2000);\n        } else {\n          this.appComponent.cekKoneksi();\n          setTimeout(() => {\n            event.target.complete();\n          }, 2000);\n        }\n      });\n    }\n\n    getSurat() {\n      this.api.getSurat('surat').then(res => {\n        console.log(res);\n        this.surat = res;\n        this.suratTemp = res;\n        localStorage.setItem('suratAlQuran', JSON.stringify(this.surat));\n      });\n    }\n\n    initializeItems() {\n      this.surat = this.suratTemp;\n    }\n\n    searchChanged(evt) {\n      this.initializeItems();\n      const searchTerm = evt.srcElement.value;\n\n      if (!searchTerm) {\n        return;\n      }\n\n      this.surat = this.surat.filter(surat => {\n        if (surat.nama_latin && searchTerm) {\n          if (surat.nama_latin.toLowerCase().indexOf(searchTerm.toLowerCase()) > -1) {\n            return true;\n          }\n\n          return false;\n        }\n      });\n    }\n\n  }\n\n  AlQuranPage.ɵfac = function AlQuranPage_Factory(t) {\n    return new (t || AlQuranPage)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.LoadingController), i0.ɵɵdirectiveInject(i3.AppComponent));\n  };\n\n  AlQuranPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AlQuranPage,\n    selectors: [[\"app-al-quran\"]],\n    decls: 25,\n    vars: 4,\n    consts: [[\"color\", \"primary\"], [\"slot\", \"start\"], [\"fill\", \"clear\", \"routerLink\", \"/home\"], [\"name\", \"arrow-back-outline\"], [\"slot\", \"end\"], [\"fill\", \"clear\"], [\"slot\", \"icon-only\", \"name\", \"bookmarks-outline\"], [\"mode\", \"md\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"surah\"], [\"value\", \"juz\"], [1, \"ion-no-padding\"], [1, \"ion-justify-content-center\"], [\"size-md\", \"6\"], [3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [2, \"margin-top\", \"10px\"], [1, \"fixed-top\"], [\"mode\", \"ios\", \"showCancelButton\", \"never\", \"placeholder\", \"Cari nama Surah\", 3, \"ngModel\", \"ngModelChange\", \"ionChange\"], [\"lines\", \"full\"], [3, \"routerLink\", 4, \"ngFor\", \"ngForOf\"], [3, \"routerLink\"], [\"color\", \"warning\"], [\"slot\", \"end\", \"color\", \"primary\"]],\n    template: function AlQuranPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\");\n        i0.ɵɵelementStart(1, \"ion-toolbar\", 0);\n        i0.ɵɵelementStart(2, \"ion-buttons\", 1);\n        i0.ɵɵelementStart(3, \"ion-button\", 2);\n        i0.ɵɵelement(4, \"ion-icon\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"ion-title\");\n        i0.ɵɵtext(6, \"Al-Quran\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"ion-buttons\", 4);\n        i0.ɵɵelementStart(8, \"ion-button\", 5);\n        i0.ɵɵelement(9, \"ion-icon\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"ion-toolbar\", 0);\n        i0.ɵɵelementStart(11, \"ion-segment\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function AlQuranPage_Template_ion_segment_ngModelChange_11_listener($event) {\n          return ctx.defaultSegment = $event;\n        });\n        i0.ɵɵelementStart(12, \"ion-segment-button\", 8);\n        i0.ɵɵelementStart(13, \"ion-label\");\n        i0.ɵɵtext(14, \" Surah \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"ion-segment-button\", 9);\n        i0.ɵɵelementStart(16, \"ion-label\");\n        i0.ɵɵtext(17, \" Juz \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"ion-content\");\n        i0.ɵɵelementStart(19, \"ion-grid\", 10);\n        i0.ɵɵelementStart(20, \"ion-row\", 11);\n        i0.ɵɵelementStart(21, \"ion-col\", 12);\n        i0.ɵɵelementStart(22, \"div\", 13);\n        i0.ɵɵtemplate(23, AlQuranPage_div_23_Template, 6, 2, \"div\", 14);\n        i0.ɵɵtemplate(24, AlQuranPage_div_24_Template, 1, 0, \"div\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngModel\", ctx.defaultSegment);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngSwitch\", ctx.defaultSegment);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngSwitchCase\", \"surah\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngSwitchCase\", \"juz\");\n      }\n    },\n    directives: [i2.IonHeader, i2.IonToolbar, i2.IonButtons, i2.IonButton, i2.RouterLinkDelegate, i4.RouterLink, i2.IonIcon, i2.IonTitle, i2.IonSegment, i2.SelectValueAccessor, i5.NgControlStatus, i5.NgModel, i2.IonSegmentButton, i2.IonLabel, i2.IonContent, i2.IonGrid, i2.IonRow, i2.IonCol, i6.NgSwitch, i6.NgSwitchCase, i2.IonSearchbar, i2.TextValueAccessor, i2.IonList, i6.NgForOf, i2.IonItem, i2.IonText],\n    styles: [\".fixed-top[_ngcontent-%COMP%]{position:sticky;top:10px;left:0;z-index:999;background:#fff}\"]\n  });\n  return AlQuranPage;\n})();","map":null,"metadata":{},"sourceType":"module"}