{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { HttpHeaders } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let CommonService = /*#__PURE__*/(() => {\n  class CommonService {\n    constructor(http) {\n      this.http = http;\n      this.serverPrayTimes = 'https://api.pray.zone/v2/times/';\n      this.serverPrayTimes2 = 'https://api.aladhan.com/v1/';\n      this.serverUrl = 'https://api.sunhouse.co.id/salammu/index.php/';\n      this.serverImgPath = 'https://api.sunhouse.co.id/salammu/';\n      this.photoBaseUrl = 'https://api.sunhouse.co.id/salammu/photos/'; //server Al Quran\n\n      this.serverAlQuran = 'https://equran.id/api/';\n      this.serverExternal = 'https://sicara.id/api/v0/';\n    }\n\n    getToken() {\n      var tokens = localStorage.getItem('salammuToken');\n      this.token = {\n        email: '',\n        jwt: ''\n      };\n\n      if (tokens != null) {\n        this.token = JSON.parse(tokens);\n      }\n\n      this.httpOption = {\n        headers: new HttpHeaders({\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + this.token.jwt\n        })\n      };\n    }\n\n    getToken2() {\n      var tokens = localStorage.getItem('salammuToken');\n      this.token = {\n        email: '',\n        jwt: ''\n      };\n\n      if (tokens != null) {\n        this.token = JSON.parse(tokens);\n      }\n\n      this.httpOption2 = {\n        headers: new HttpHeaders({\n          'Authorization': 'Bearer ' + this.token.jwt\n        })\n      };\n    }\n\n    generateOption(bearer) {\n      this.httpOption = {\n        headers: new HttpHeaders({\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + bearer\n        })\n      };\n    }\n\n    getTimes(url) {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.times = undefined;\n        this.times = yield this.http.get(this.serverPrayTimes2 + url).toPromise();\n        return this.times.data;\n      });\n    }\n\n    getWeekTimes(url) {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.weekTimes = undefined;\n        this.weekTimes = yield this.http.get(this.serverPrayTimes + url).toPromise();\n        return this.weekTimes.results;\n      });\n    }\n\n    get(url) {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.getToken();\n        this.data = undefined;\n        this.data = yield this.http.get(this.serverUrl + url, this.httpOption).toPromise();\n        return this.data;\n      });\n    }\n\n    getExternal(url) {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.data = undefined;\n        this.data = yield this.http.get(this.serverExternal + url).toPromise();\n        return this.data;\n      });\n    }\n\n    post(url, data) {\n      this.getToken();\n      return this.http.post(this.serverUrl + url, data, this.httpOption).toPromise();\n    }\n\n    postCrImg(url, data) {\n      this.getToken2();\n      return this.http.post(this.serverUrl + url, data, this.httpOption2).toPromise();\n    }\n\n    put(url, data) {\n      this.getToken();\n      return this.http.put(this.serverUrl + url, data, this.httpOption).toPromise();\n    }\n\n    delete(url) {\n      this.getToken();\n      return this.http.delete(this.serverUrl + url, this.httpOption).toPromise();\n    } //Al Quran\n\n\n    getSurat(url) {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.data = undefined;\n        this.data = yield this.http.get(this.serverAlQuran + url).toPromise();\n        return this.data;\n      });\n    }\n\n  }\n\n  CommonService.ɵfac = function CommonService_Factory(t) {\n    return new (t || CommonService)(i0.ɵɵinject(i1.HttpClient));\n  };\n\n  CommonService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: CommonService,\n    factory: CommonService.ɵfac,\n    providedIn: 'root'\n  });\n  return CommonService;\n})();","map":null,"metadata":{},"sourceType":"module"}