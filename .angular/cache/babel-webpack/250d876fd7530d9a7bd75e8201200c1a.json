{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { ViewerModalComponent } from 'ngx-ionic-image-viewer';\nimport { IonSlides } from '@ionic/angular';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/api.service\";\nimport * as i2 from \"src/app/services/common.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@ionic/angular\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"swiper/angular\";\nimport * as i7 from \"ngx-ionic-image-viewer\";\n\nfunction DetailProdukPage_ion_col_9_swiper_1_1_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-img-viewer\", 16);\n  }\n\n  if (rf & 2) {\n    const n_r4 = i0.ɵɵnextContext().$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵpropertyInterpolate(\"text\", ctx_r5.detailProduct.name);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r5.serverImg + n_r4);\n  }\n}\n\nfunction DetailProdukPage_ion_col_9_swiper_1_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, DetailProdukPage_ion_col_9_swiper_1_1_ng_template_0_Template, 1, 2, \"ng-template\", 15);\n  }\n}\n\nfunction DetailProdukPage_ion_col_9_swiper_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"swiper\", 13);\n    i0.ɵɵtemplate(1, DetailProdukPage_ion_col_9_swiper_1_1_Template, 1, 0, undefined, 14);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"config\", ctx_r1.config);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.detailProduct.images);\n  }\n}\n\nfunction DetailProdukPage_ion_col_9_swiper_2_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-img-viewer\", 17);\n  }\n}\n\nfunction DetailProdukPage_ion_col_9_swiper_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"swiper\", 13);\n    i0.ɵɵtemplate(1, DetailProdukPage_ion_col_9_swiper_2_ng_template_1_Template, 1, 0, \"ng-template\", 15);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"config\", ctx_r2.config);\n  }\n}\n\nfunction DetailProdukPage_ion_col_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-col\", 6);\n    i0.ɵɵtemplate(1, DetailProdukPage_ion_col_9_swiper_1_Template, 2, 2, \"swiper\", 7);\n    i0.ɵɵtemplate(2, DetailProdukPage_ion_col_9_swiper_2_Template, 2, 1, \"swiper\", 7);\n    i0.ɵɵelementStart(3, \"ion-item\");\n    i0.ɵɵelementStart(4, \"ion-label\");\n    i0.ɵɵelementStart(5, \"ion-text\", 1);\n    i0.ɵɵelementStart(6, \"h1\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"ion-item\", 8);\n    i0.ɵɵelementStart(12, \"ion-label\");\n    i0.ɵɵelementStart(13, \"h3\");\n    i0.ɵɵtext(14, \"Deskripsi\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"p\", 9);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(17, \"div\", 10);\n    i0.ɵɵelementStart(18, \"div\", 11);\n    i0.ɵɵelementStart(19, \"ion-button\", 12);\n    i0.ɵɵlistener(\"click\", function DetailProdukPage_ion_col_9_Template_ion_button_click_19_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.chatSeller();\n    });\n    i0.ɵɵtext(20, \" Chat Penjual \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.detailProduct.images.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.detailProduct.images.length == 0);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Rp.\", i0.ɵɵpipeBind2(8, 5, ctx_r0.detailProduct.price, \"1.0-0\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.detailProduct.name);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.detailProduct.descriptions, \" \");\n  }\n}\n\nexport let DetailProdukPage = /*#__PURE__*/(() => {\n  class DetailProdukPage {\n    constructor(api, common, router, routes, modalController, loadingController) {\n      this.api = api;\n      this.common = common;\n      this.router = router;\n      this.routes = routes;\n      this.modalController = modalController;\n      this.loadingController = loadingController;\n      this.config = {\n        initialSlide: 1,\n        speed: 400,\n        loop: true,\n        pagination: {\n          clickable: true\n        },\n        scrollbar: {\n          draggable: true\n        }\n      };\n    }\n\n    ngOnInit() {\n      this.id = this.routes.snapshot.paramMap.get('id');\n      this.serverImg = this.common.photoBaseUrl + 'products/';\n      this.getDetailProduct();\n    }\n\n    onSwiper(swiper) {\n      console.log(swiper);\n    }\n\n    onSlideChange() {\n      console.log('slide change');\n    }\n\n    getDetailProduct() {\n      this.api.get('products/find/' + this.id).then(res => {\n        this.parseImage(res);\n      });\n    }\n\n    parseImage(res) {\n      let images = JSON.parse(res.images);\n\n      if (images.length > 0 && images != null && images != '') {\n        res.images = images;\n        this.detailProduct = res;\n      } else {\n        res.images = [];\n        this.detailProduct = res;\n      }\n\n      this.getDetailOwner();\n    }\n\n    getDetailOwner() {\n      this.api.get('users/find/' + this.detailProduct.created_by).then(res => {\n        this.ownerData = res;\n      });\n    }\n\n    chatSeller() {\n      this.api.chatSeller(this.ownerData, this.detailProduct);\n    }\n\n    ionSlideTouchEnd() {\n      // Lock the ability to slide to the next or previous slide.\n      this.slides.lockSwipes(true);\n    }\n\n    openViewer(url) {\n      return __awaiter(this, void 0, void 0, function* () {\n        console.log(url);\n        const modal = yield this.modalController.create({\n          component: ViewerModalComponent,\n          componentProps: {\n            src: url\n          },\n          cssClass: 'ion-img-viewer'\n        });\n        return yield modal.present();\n      });\n    }\n\n  }\n\n  DetailProdukPage.ɵfac = function DetailProdukPage_Factory(t) {\n    return new (t || DetailProdukPage)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.CommonService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.ModalController), i0.ɵɵdirectiveInject(i4.LoadingController));\n  };\n\n  DetailProdukPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DetailProdukPage,\n    selectors: [[\"app-detail-produk\"]],\n    viewQuery: function DetailProdukPage_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(IonSlides, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.slides = _t.first);\n      }\n    },\n    decls: 10,\n    vars: 1,\n    consts: [[1, \"ion-no-border\"], [\"color\", \"primary\"], [\"slot\", \"start\"], [1, \"ion-no-padding\"], [1, \"ion-justify-content-center\"], [\"size-md\", \"6\", 4, \"ngIf\"], [\"size-md\", \"6\"], [\"style\", \"height: 280px;\", 3, \"config\", 4, \"ngIf\"], [\"lines\", \"none\"], [1, \"ion-text-wrap\"], [2, \"margin-top\", \"100px\"], [1, \"footer\"], [\"color\", \"primary\", \"expand\", \"block\", 3, \"click\"], [2, \"height\", \"280px\", 3, \"config\"], [4, \"ngFor\", \"ngForOf\"], [\"swiperSlide\", \"\"], [\"scheme\", \"dark\", 2, \"width\", \"100%\", \"background-size\", \"cover\", \"object-fit\", \"cover\", 3, \"text\", \"src\"], [\"text\", \"SalamMU\", \"scheme\", \"dark\", \"src\", \"./assets/imgs/no-product.png\", 2, \"width\", \"100%\", \"background-size\", \"cover\", \"object-fit\", \"cover\"]],\n    template: function DetailProdukPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\", 0);\n        i0.ɵɵelementStart(1, \"ion-toolbar\", 1);\n        i0.ɵɵelementStart(2, \"ion-title\");\n        i0.ɵɵtext(3, \"Detail Produk\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"ion-buttons\", 2);\n        i0.ɵɵelement(5, \"ion-back-button\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"ion-content\");\n        i0.ɵɵelementStart(7, \"ion-grid\", 3);\n        i0.ɵɵelementStart(8, \"ion-row\", 4);\n        i0.ɵɵtemplate(9, DetailProdukPage_ion_col_9_Template, 21, 8, \"ion-col\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngIf\", ctx.detailProduct != undefined);\n      }\n    },\n    directives: [i4.IonHeader, i4.IonToolbar, i4.IonTitle, i4.IonButtons, i4.IonBackButton, i4.IonBackButtonDelegate, i4.IonContent, i4.IonGrid, i4.IonRow, i5.NgIf, i4.IonCol, i4.IonItem, i4.IonLabel, i4.IonText, i4.IonButton, i6.SwiperComponent, i5.NgForOf, i6.SwiperSlideDirective, i7.NgxIonicImageViewerComponent],\n    pipes: [i5.DecimalPipe],\n    styles: [\".text-elipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}ion-slides[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]{max-width:100vw!important;max-height:250px!important}ion-slides[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%!important;background-size:cover;object-fit:cover}\"]\n  });\n  return DetailProdukPage;\n})();","map":null,"metadata":{},"sourceType":"module"}