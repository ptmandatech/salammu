{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { HttpHeaders } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"@angular/common\";\nexport let ModalPetaComponent = /*#__PURE__*/(() => {\n  class ModalPetaComponent {\n    constructor(http, router, navParams, modalController) {\n      this.http = http;\n      this.router = router;\n      this.navParams = navParams;\n      this.modalController = modalController;\n    }\n\n    ngOnInit() {\n      this.dataPengajian = this.navParams.get('data');\n\n      if (this.dataPengajian.pin != null) {\n        let pin = JSON.parse(this.dataPengajian.pin);\n        this.getDetailLocation(pin);\n      }\n    }\n\n    detailPengajian() {\n      this.router.navigate(['/pengajian/detail-pengajian', this.dataPengajian.id]);\n      this.dismiss();\n    }\n\n    getDetailLocation(dt) {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.httpOption = {\n          headers: new HttpHeaders({\n            'Content-Type': 'application/json'\n          })\n        };\n        yield this.http.get('http://open.mapquestapi.com/nominatim/v1/reverse.php?key=10o857kA0hJBvz8kNChk495IHwfEwg1G&format=json&lat=' + dt.lat + '&lon=' + dt.long, this.httpOption).subscribe(res => __awaiter(this, void 0, void 0, function* () {\n          this.locationNow = res;\n          this.city = this.locationNow.address.state_district.replace('Kota ', '');\n\n          if (this.locationNow == undefined || this.locationNow.address.state_district == undefined) {\n            yield this.http.get('https://nominatim.openstreetmap.org/reverse?format=geojson&lat=' + dt.lat + '&lon=' + dt.long, this.httpOption).subscribe(res => {\n              this.locationNow = res;\n              this.city = this.locationNow.city.replace('Kota ', '');\n            });\n          }\n        }), error => __awaiter(this, void 0, void 0, function* () {\n          yield this.http.get('http://open.mapquestapi.com/nominatim/v1/reverse.php?key=10o857kA0hJBvz8kNChk495IHwfEwg1G&format=json&lat=' + dt.lat + '&lon=' + dt.long, this.httpOption).subscribe(res => {\n            this.locationNow = res;\n            this.city = this.locationNow.city.replace('Kota ', '');\n          });\n        }));\n      });\n    }\n\n    dismiss() {\n      this.modalController.dismiss({\n        'dismissed': true\n      });\n    }\n\n  }\n\n  ModalPetaComponent.ɵfac = function ModalPetaComponent_Factory(t) {\n    return new (t || ModalPetaComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.NavParams), i0.ɵɵdirectiveInject(i3.ModalController));\n  };\n\n  ModalPetaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ModalPetaComponent,\n    selectors: [[\"app-modal-peta\"]],\n    decls: 32,\n    vars: 11,\n    consts: [[1, \"ion-no-border\"], [\"lines\", \"full\", 1, \"ion-padding\"], [1, \"ion-text-wrap\", \"judul\"], [1, \"ion-padding\"], [\"slot\", \"start\", \"color\", \"primary\", \"name\", \"calendar-outline\"], [1, \"ion-text-wrap\"], [\"slot\", \"start\", \"color\", \"primary\", \"name\", \"time-outline\"], [\"slot\", \"start\", \"color\", \"primary\", \"name\", \"home-outline\"], [\"slot\", \"start\", \"color\", \"primary\", \"name\", \"location-outline\"], [\"color\", \"primary\"], [\"expand\", \"block\", 2, \"margin-top\", \"20px\", 3, \"click\"]],\n    template: function ModalPetaComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\", 0);\n        i0.ɵɵelementStart(1, \"ion-toolbar\");\n        i0.ɵɵelementStart(2, \"ion-item\", 1);\n        i0.ɵɵelementStart(3, \"ion-label\");\n        i0.ɵɵelementStart(4, \"ion-text\", 2);\n        i0.ɵɵtext(5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"ion-content\", 3);\n        i0.ɵɵelementStart(7, \"ion-item\");\n        i0.ɵɵelement(8, \"ion-icon\", 4);\n        i0.ɵɵelementStart(9, \"ion-label\");\n        i0.ɵɵelementStart(10, \"p\", 5);\n        i0.ɵɵtext(11);\n        i0.ɵɵpipe(12, \"date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"ion-item\");\n        i0.ɵɵelement(14, \"ion-icon\", 6);\n        i0.ɵɵelementStart(15, \"ion-label\");\n        i0.ɵɵelementStart(16, \"p\", 5);\n        i0.ɵɵtext(17);\n        i0.ɵɵpipe(18, \"date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"ion-item\");\n        i0.ɵɵelement(20, \"ion-icon\", 7);\n        i0.ɵɵelementStart(21, \"ion-label\");\n        i0.ɵɵelementStart(22, \"p\", 5);\n        i0.ɵɵtext(23);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"ion-item\");\n        i0.ɵɵelement(25, \"ion-icon\", 8);\n        i0.ɵɵelementStart(26, \"ion-label\");\n        i0.ɵɵelementStart(27, \"ion-text\", 9);\n        i0.ɵɵelementStart(28, \"p\", 5);\n        i0.ɵɵtext(29);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"ion-button\", 10);\n        i0.ɵɵlistener(\"click\", function ModalPetaComponent_Template_ion_button_click_30_listener() {\n          return ctx.detailPengajian();\n        });\n        i0.ɵɵtext(31, \" Lihat Detail \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" \", ctx.dataPengajian.name == undefined ? \"\" : ctx.dataPengajian.name, \" \");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(12, 5, ctx.dataPengajian.datetime, \"dd MMMM yyyy\"));\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\"Pukul : \", i0.ɵɵpipeBind2(18, 8, ctx.dataPengajian.datetime, \"H:mm\"), \"\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.dataPengajian.location == undefined ? \"\" : ctx.dataPengajian.location);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\"Lokasi di \", ctx.locationNow == undefined ? \"\" : ctx.locationNow.display_name, \"\");\n      }\n    },\n    directives: [i3.IonHeader, i3.IonToolbar, i3.IonItem, i3.IonLabel, i3.IonText, i3.IonContent, i3.IonIcon, i3.IonButton],\n    pipes: [i4.DatePipe],\n    styles: [\".judul[_ngcontent-%COMP%]{font-family:\\\"Poppins-Regular\\\"!important;font-weight:600}\"]\n  });\n  return ModalPetaComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}