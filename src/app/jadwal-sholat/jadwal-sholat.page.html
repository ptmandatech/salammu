<ion-header class="ion-no-border">
  <ion-toolbar color="primary">
    <ion-back-button slot="start"></ion-back-button>
    <ion-title class="ion-text-center">Jadwal Sholat</ion-title>
    <ion-buttons slot="end">
      <ion-button fill="clear" id="popover">
        <ion-icon slot="icon-only" name="filter"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>

  <ion-toolbar color="primary" *ngIf="daily">
    <ion-button color="light" slot="start" fill="clear" button-icon (click)="prev()">
    <ion-icon slot="icon-only" name="caret-back"></ion-icon>
    </ion-button>
    <ion-title class="date-title">{{selected | date:'dd, MMM y'}}</ion-title>
    <ion-button color="light" slot="end" fill="clear" button-icon (click)="next()">
    <ion-icon slot="icon-only" name="caret-forward"></ion-icon>
    </ion-button>
  </ion-toolbar>

  <ion-toolbar color="primary" *ngIf="weekly">
    <ion-button color="light" slot="start" fill="clear" button-icon>
    <ion-icon slot="icon-only" name="caret-back"></ion-icon>
    </ion-button>
    <ion-title class="date-title">1 - 7 Desember 2021</ion-title>
    <ion-button color="light" slot="end" fill="clear" button-icon>
    <ion-icon slot="icon-only" name="caret-forward"></ion-icon>
    </ion-button>
  </ion-toolbar>

  <ion-toolbar color="primary" *ngIf="monthly">
    <ion-button color="light" slot="start" fill="clear" button-icon>
    <ion-icon slot="icon-only" name="caret-back"></ion-icon>
    </ion-button>
    <ion-title class="date-title">Desember 2021</ion-title>
    <ion-button color="light" slot="end" fill="clear" button-icon>
    <ion-icon slot="icon-only" name="caret-forward"></ion-icon>
    </ion-button>
  </ion-toolbar>

  <ion-row *ngIf="monthly || weekly" class="bg-primary padding-header">
    <ion-col class="ion-text-center" *ngFor="let schedule of ['Tgl', 'Imsak', 'Subuh', 'Dhuhur', 'Ashar', 'Maghrib', 'Isya']">
      <ion-text class="fs-10">
        {{schedule}}
      </ion-text>
    </ion-col>
  </ion-row>

</ion-header>

<ion-content>

  <ion-grid class="ion-no-padding">
    <ion-row class="ion-justify-content-center">
      <ion-col size-md="6">

        <ion-grid *ngIf="daily" class="ion-no-padding">
          <ion-row class="bg-primary padding-header">
            <ion-col class="ion-text-center" *ngFor="let h of ['Min','Sen','Sel','Rab','Kam','Jum','Sab']">
              <ion-text>
                {{h}}
              </ion-text>
            </ion-col>
          </ion-row>
          <ion-row *ngFor="let m of week" class="ion-align-items-center">
            <ion-col class="cal-cell" *ngFor="let n of [0,1,2,3,4,5,6]" [ngClass]="{'cell-selected':cellSelected[m+n]}" (click)="selectCell(m,n)">
              <div *ngIf="cal[m][n]!=0" class="centered ion-padding">
                <ion-text class="cal-date">{{cal[m][n]!=0 ? cal[m][n].tanggal : ''}}</ion-text>
              </div>
            </ion-col>
          </ion-row>
        </ion-grid>



        <ion-grid *ngIf="weekly" class="ion-no-padding">
          <ion-row class="ion-align-items-center" *ngFor="let n of [1,2,3,4,5,6,7]">
            <ion-col class="cal-cell bg-gray">
              <div class="centered">
                <ion-text color="secondary" class="cal-date fs-10">{{n}} Des 2021</ion-text>
              </div>
            </ion-col>
            <ion-col class="cal-cell" *ngFor="let n of [0,1,2,3,4,5]">
              <div class="centered">
                <ion-text color="medium" class="cal-date fs-10">04.36</ion-text>
              </div>
            </ion-col>
          </ion-row>
        </ion-grid>


        <ion-grid *ngIf="monthly" class="ion-no-padding">

          <ion-row class="ion-align-items-center" *ngFor="let n of [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]">
            <ion-col class="cal-cell bg-gray">
              <div class="centered">
                <ion-text color="secondary" class="cal-date fs-10">{{n}} Des 2021</ion-text>
              </div>
            </ion-col>
            <ion-col class="cal-cell" *ngFor="let n of [0,1,2,3,4,5]">
              <div class="centered">
                <ion-text color="medium" class="cal-date fs-10">04.36</ion-text>
              </div>
            </ion-col>
          </ion-row>
        </ion-grid>

      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>


<ion-popover trigger="popover" [dismissOnSelect]="true" side="bottom" alignment="end">
  <ng-template>
    <ion-content>
      <ion-item lines="none" (click)="dailyShow()">
        <ion-label>
          <ion-text>
            Harian
          </ion-text>
        </ion-label>
      </ion-item>
      <ion-item lines="none" (click)="weeklyShow()">
        <ion-label>
          <ion-text>
            Mingguan
          </ion-text>
        </ion-label>
      </ion-item>
      <ion-item lines="none" (click)="monthlyShow()">
        <ion-label>
          <ion-text>
            Bulanan
          </ion-text>
        </ion-label>
      </ion-item>
    </ion-content>
  </ng-template>
</ion-popover>
