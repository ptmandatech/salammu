<ion-content [fullscreen]="true">
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <ion-grid class="ion-no-padding">
    <ion-row class="ion-justify-content-center">
      <ion-col size-md="6">
          <img src="./assets/imgs/bg-hero.svg" width="100%">
          <div class="top-left">
            <ion-button fill="clear" color="light">
              <ion-icon slot="icon-only" name="location-outline"></ion-icon>
              <span *ngIf="!loading">{{city == undefined ? '':city}}</span>
              <span *ngIf="loading"><ion-skeleton-text animated style="width: 50%;"></ion-skeleton-text></span>
            </ion-button>
            <!-- <ion-item class="fill-0" lines="none" *ngIf="prayTime.meta != undefined">
              <ion-label>
                <ion-text color="light">
                  <p>{{prayTime.meta == undefined ? '':prayTime.meta.method.name}}</p>
                </ion-text>
              </ion-label>
            </ion-item> -->
            <ion-item class="fill-0" lines="none" *ngIf="nextTimeTimer != undefined && !loading">
              <ion-label>
                <ion-text color="light">
                  <h1>{{nextTime.title == undefined ? '':nextTime.title}}</h1>
                  <p>{{nextTimeTimer == undefined ? '':nextTimeTimer + ' lagi'}}</p>
                </ion-text>
              </ion-label>
            </ion-item>
            <ion-item class="fill-0" lines="none" *ngIf="loading">
              <ion-label>
                <ion-text color="light">
                  <h1><ion-skeleton-text animated></ion-skeleton-text></h1>
                  <p><ion-skeleton-text animated></ion-skeleton-text></p>
                </ion-text>
              </ion-label>
            </ion-item>
          </div>

          <div class="top-right" *ngIf="!loading">
            <ion-button fill="clear" color="light" size="large" (click)="modalLogin()">
              <ion-icon *ngIf="userData == undefined" style="font-size: 3rem;" slot="icon-only" name="person-circle"></ion-icon>
              <div *ngIf="userData != undefined">
                <ion-icon *ngIf="userData.image == null" style="font-size: 3rem;" slot="icon-only" name="person-circle"></ion-icon>
                <img *ngIf="userData.image != null" src="{{(serverImgProfil+userData.image)}}" class="img-profil">
              </div>
            </ion-button>
          </div>

          <div class="ion-padding">
            <div class="info-jadwal">
              <ion-row style="border-bottom: 1px solid #F2F2F2;">
                <ion-col class="ion-text-center">
                  <ion-label *ngIf="timesToday != undefined">
                    <ion-text>
                      {{prayTime.date.readable | date: 'EEEE, dd MMMM yyyy' }}
                    </ion-text>
                    <ion-text color="medium">
                      <p>
                        {{prayTime.date.hijri.day}} {{prayTime.date.hijri.month.en}} {{prayTime.date.hijri.year}}
                      </p>
                    </ion-text>
                  </ion-label>
                  <ion-label *ngIf="timesToday == undefined">
                    <ion-skeleton-text animated></ion-skeleton-text>
                  </ion-label>
                </ion-col>
              </ion-row>
              <ion-row *ngIf="timesToday != undefined">
                <ion-col class="ion-text-center" *ngFor="let n of listTimes">
                  <ion-label class="fs-10">
                    <ion-text color="{{n.title_color}}">{{n.title}}</ion-text>
                    <ion-text color="{{n.time_color}}">
                      <p>{{n.time}}</p>
                    </ion-text>
                    <ion-text color="dark" *ngIf="timesToday == undefined">
                      <p><ion-skeleton-text animated></ion-skeleton-text></p>
                    </ion-text>
                  </ion-label>
                  <ion-label class="fs-10" *ngIf="timesToday == undefined">
                    <ion-text color="dark">
                      <p><ion-skeleton-text animated></ion-skeleton-text></p>
                    </ion-text>
                  </ion-label>
                </ion-col>

              </ion-row>
            </div>
          </div>

          <div class="container">
            <ion-slides pager="true" *ngIf="!loading" [options]="slideOpts" class="ion-padding" style="margin-top: 20px;">
              <ion-slide *ngFor="let n of listBanners">
                <a href="{{n.url}}">
                  <img src="{{n.image == undefined ? './assets/imgs/slide1.png':(serverImgBanner+n.image)}}" class="object-bg rounded-1" height="150">
                </a>
              </ion-slide>
            </ion-slides>

            <ion-slides pager="true" *ngIf="loading" [options]="slideOpts" class="ion-padding" style="margin-top: 20px;">
              <ion-slide *ngFor="let n of [1,2,3,4,5,6,7,8,9,10]">
                <ion-card style="width: 100%;">
                  <ion-card-content>
                    <ion-skeleton-text animated style="height: 60px;"></ion-skeleton-text>
                    <ion-skeleton-text animated></ion-skeleton-text>
                    <ion-skeleton-text animated></ion-skeleton-text>
                    <ion-skeleton-text animated></ion-skeleton-text>
                  </ion-card-content>
                </ion-card>
              </ion-slide>
            </ion-slides>


            <ion-grid>
              <ion-row>
                <ion-col size="3" class="ion-text-center mb-16" routerLink="/pengajian">
                  <img src="./assets/icon/pengajian.svg"/>
                  <p class="fs-10" style="margin-top: -1px;">Pengajian</p>
                </ion-col>
                <ion-col size="3" class="ion-text-center mb-16" routerLink="/jadwal-sholat">
                  <img src="./assets/icon/jadwal-sholat.svg"/>
                  <p class="fs-10" style="margin-top: -1px;">Jadwal Sholat</p>
                </ion-col>
                <ion-col size="3" class="ion-text-center mb-16" routerLink="/video">
                  <img src="./assets/icon/video.svg"/>
                  <p class="fs-10" style="margin-top: -1px;">Video</p>
                </ion-col>
                <ion-col size="3" class="ion-text-center mb-16" >
                  <img src="./assets/icon/dzikir.svg"/>
                  <p class="fs-10" style="margin-top: -1px;">Doa & Dzikir</p>
                </ion-col>
                <ion-col size="3" class="ion-text-center mb-16" >
                  <img src="./assets/icon/artikelmu.svg"/>
                  <p class="fs-10" style="margin-top: -1px;">ArtikelMU</p>
                </ion-col>
                <ion-col size="3" class="ion-text-center mb-16" >
                  <img src="./assets/icon/tentangmu.svg"/>
                  <p class="fs-10" style="margin-top: -1px;">PediaMU</p>
                </ion-col>
                <ion-col size="3" class="ion-text-center mb-16" >
                  <img src="./assets/icon/tanya-ustad.svg"/>
                  <p class="fs-10" style="margin-top: -1px;">Tanya Ustadz</p>
                  <ion-chip color="danger" style="margin-top: -140px;">
                    <ion-label class="fs-10">Segera</ion-label>
                  </ion-chip>
                </ion-col>
                <ion-col size="3" class="ion-text-center mb-16" (click)="allMenu()">
                  <img src="./assets/icon/wrapper.svg"/>
                  <p class="fs-10" style="margin-top: -1px;">Semua</p>
                </ion-col>
              </ion-row>
            </ion-grid>

            <!-- ProdukMU -->
            <ion-item lines="none">
              <ion-label>
                <h2>Rekomendasi ProdukMU</h2>
              </ion-label>
              <ion-chip color="primary" routerLink="/produk-mu">
                <ion-label>
                  Lihat Semua
                </ion-label>
              </ion-chip>
            </ion-item>

            <!-- <ion-row class="ion-no-padding pins" *ngIf="!loading">
              <ion-col class="pin" *ngFor="let n of listProducts">
                <ion-card class="rounded-15" [routerLink]="['/produk-mu/detail-produk', n.id]">
                  <img src="{{n.images.length == 0 ? './assets/imgs/no-product.png':(serverImg+n.images[0])}}" class="object-bg" style="height: 150px;">
                  <ion-card-content>
                    <ion-label>
                      <ion-text color="primary">
                        <h2>{{n.name}}</h2>
                      </ion-text>
                    </ion-label>
                    <h2 style="margin-top: 20px;">Rp.{{n.price | number:'1.0-0'}}</h2>
                  </ion-card-content>
                </ion-card>
              </ion-col>
            </ion-row> -->

            <div class="pins" *ngIf="!loading">
              <ion-card *ngFor="let n of listProducts" class="rounded-15" [routerLink]="['/produk-mu/detail-produk', n.id]">
                <img src="{{n.images.length == 0 ? './assets/imgs/no-product.png':(serverImg+n.images[0])}}" class="object-bg" style="height: 150px;">
                <ion-card-content>
                  <ion-label>
                    <ion-text color="primary">
                      <h2>{{n.name}}</h2>
                    </ion-text>
                  </ion-label>
                  <h2 style="margin-top: 20px;">Rp.{{n.price | number:'1.0-0'}}</h2>
                </ion-card-content>
              </ion-card>
            </div>

            <ion-row class="ion-no-padding" *ngIf="loading">
              <ion-col size="6" *ngFor="let n of [1,2,3,4,5,6,7,8,9,10]">
                <ion-card class="rounded-15">
                  <ion-card-content>
                    <ion-skeleton-text animated style="height: 60px;"></ion-skeleton-text>
                    <ion-label>
                      <ion-text color="primary">
                        <h2><ion-skeleton-text animated></ion-skeleton-text></h2>
                      </ion-text>
                      <ion-text color="medium">
                        <p class="text-elipsis"><ion-skeleton-text animated></ion-skeleton-text><p>
                      </ion-text>
                    </ion-label>
                    <h2 style="margin-top: 20px;"><ion-skeleton-text animated></ion-skeleton-text></h2>
                  </ion-card-content>
                </ion-card>
              </ion-col>
            </ion-row>
            <!-- End ProdukMU -->
          </div>

      </ion-col>
    </ion-row>
  </ion-grid>


</ion-content>
